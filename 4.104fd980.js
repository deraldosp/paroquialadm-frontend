webpackJsonp([4,14],{540:function(module,exports,__webpack_require__){__webpack_require__(624);var Component=__webpack_require__(38)(__webpack_require__(582),__webpack_require__(658),"data-v-47298696",null);module.exports=Component.exports},550:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_axios__=__webpack_require__(168),__WEBPACK_IMPORTED_MODULE_0_axios___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);__webpack_exports__.a=function(config){if(localStorage.getItem("jwt")){var headers={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")};return __WEBPACK_IMPORTED_MODULE_0_axios___default.a.create({baseURL:void 0,timeout:3e4,headers:headers})}}},551:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Service__=__webpack_require__(550);__webpack_require__.d(__webpack_exports__,"a",function(){return Paroquianos});var BaseUrl="/paroquianos",Paroquianos={get:function(id,params){var _id=id?"/"+id:"";return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__Service__.a)().get(""+BaseUrl+_id,{params:params})},update:function(id,data){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__Service__.a)().put(BaseUrl+"/"+id,data)},create:function(data){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__Service__.a)().post(""+BaseUrl,data)},delete:function(id){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__Service__.a)().delete(BaseUrl+"/"+id)},listSelect:function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__Service__.a)().get(BaseUrl+"/list-select")}}},558:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_luxon__=__webpack_require__(169);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_luxon__);__webpack_exports__.default={props:{editable:{type:Boolean,default:!1},title:{type:String},content:{type:String},time:{type:String,validator:function(value){return/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(value)}},variant:{type:String,default:"primary",validator:function(value){return-1!==["success","warning","danger","primary","secondary"].indexOf(value)}},noAction:{type:Boolean,default:!1}},data:function(){return{date:this.$DateTime.now(),dateTime:null,changedTime:null}},computed:{day:function(){return this.date.toFormat("dd")},month:function(){return this.date.toFormat("LLL")},year:function(){return this.date.toFormat("yyyy")},hasTitleSlot:function(){return!!this.$slots.title},hasDefaultSlot:function(){return!!this.$slots.default},bgVariant:function(){return"bg-"+this.variant}},methods:{handleDate:function(){var time=this.time?" "+this.time:__WEBPACK_IMPORTED_MODULE_0_luxon__.DateTime.now().toFormat("HH:mm"),payload={date:this.date.toFormat("yyyy-MM-dd").trim(),time:time.trim()};this.$emit("dateChanged",payload)}},watch:{dateTime:function(val){this.date=val?__WEBPACK_IMPORTED_MODULE_0_luxon__.DateTime.fromString(val,"yyyy-MM-dd"):__WEBPACK_IMPORTED_MODULE_0_luxon__.DateTime.now()}}}},559:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(549)()).push([module.i,".card-date[data-v-f6c3eb4e]{cursor:pointer;text-align:center;color:#fff}.card-date .card-date-day[data-v-f6c3eb4e]{font-size:50px;font-weight:900}.card-date .card-date-content[data-v-f6c3eb4e]{font-size:18px}.card-body[data-v-f6c3eb4e]{min-height:100px}","",{version:3,sources:["/./client/components/DateCard.vue"],names:[],mappings:"AACA,4BAA4B,eAAe,kBAAkB,UAAU,CACtE,AACD,2CAA2C,eAAe,eAAe,CACxE,AACD,+CAA+C,cAAc,CAC5D,AACD,4BAA4B,gBAAgB,CAC3C",file:"DateCard.vue",sourcesContent:["\n.card-date[data-v-f6c3eb4e]{cursor:pointer;text-align:center;color:#fff\n}\n.card-date .card-date-day[data-v-f6c3eb4e]{font-size:50px;font-weight:900\n}\n.card-date .card-date-content[data-v-f6c3eb4e]{font-size:18px\n}\n.card-body[data-v-f6c3eb4e]{min-height:100px\n}\n"],sourceRoot:"webpack://"}])},560:function(module,exports,__webpack_require__){var content=__webpack_require__(559);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(536).default)("32e9e436",content,!0,{})},562:function(module,exports,__webpack_require__){__webpack_require__(560);var Component=__webpack_require__(38)(__webpack_require__(558),__webpack_require__(563),"data-v-f6c3eb4e",null);module.exports=Component.exports},563:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"card mb-3",staticStyle:{"max-width":"400px"}},[_c("div",{staticClass:"row no-gutters"},[_c("div",{staticClass:"col-md-4",class:_vm.bgVariant},[_c("div",{staticClass:"h-100 d-flex justify-content-center align-items-center"},[_c("DatePick",{attrs:{editable:_vm.editable},scopedSlots:_vm._u([{key:"default",fn:function(ref){var toggle=ref.toggle;return[_c("div",{staticClass:"card-date",on:{click:function($event){_vm.editable&&toggle()}}},[_c("div",{staticClass:"card-date-day"},[_vm._v(_vm._s(_vm.day))]),_vm._v(" "),_c("div",{staticClass:"card-date-content"},[_vm._v(_vm._s(_vm.month)+" "+_vm._s(_vm.year))])])]}}]),model:{value:_vm.dateTime,callback:function($$v){_vm.dateTime=$$v},expression:"dateTime"}})],1)]),_vm._v(" "),_c("div",{staticClass:"col-md-8"},[_c("div",{staticClass:"card-body"},[_vm.hasTitleSlot?[_vm._t("title")]:[_c("h5",{staticClass:"card-title",staticStyle:{"font-weight":"600"},domProps:{innerHTML:_vm._s(_vm.title)}})],_vm._v(" "),_vm.hasDefaultSlot?[_vm._t("default")]:[_c("p",{staticClass:"card-text",domProps:{innerHTML:_vm._s(_vm.content)}})],_vm._v(" "),_vm.noAction?_vm._e():_c("div",{staticClass:"card-text text-right mt-auto align-self-end"},[_c("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function($event){return _vm.handleDate()}}},[_vm._v("Iniciar")])],1)],2)])])])},staticRenderFns:[]}},582:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_luxon__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_1_components_DateCard__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_luxon__),__webpack_require__(562)),__WEBPACK_IMPORTED_MODULE_1_components_DateCard___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_components_DateCard__),__WEBPACK_IMPORTED_MODULE_2_v_money__=__webpack_require__(641),__WEBPACK_IMPORTED_MODULE_3_services_dizimo_service__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_v_money__),__webpack_require__(551));__webpack_exports__.default={components:{DateCard:__WEBPACK_IMPORTED_MODULE_1_components_DateCard___default.a,vMoney:__WEBPACK_IMPORTED_MODULE_2_v_money__.Money},props:{date:{type:String,required:!0,validator:function(value){return/^\d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])$/.test(value)}},time:{type:String,validator:function(value){return/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(value)}}},data:function(){var _this=this;return{model:{entryValue:0,monthsSelected:[__WEBPACK_IMPORTED_MODULE_0_luxon__.DateTime.now().toFormat("L")],dizimistaSelected:null,entries:[]},tableFields:[{key:"year",sortable:!0,label:this.$t("YEAR")},{key:"month",sortable:!0,label:this.$t("MONTH"),formatter:function(value){return _this.monthsEntry.find(function(item){return item.value==value}).label}},{key:"value",label:this.$t("VALUE"),sortable:!0,formatter:function(value){return value.toFixed(2)}},{key:"actions",label:this.$t(""),sortable:!1}],money:{decimal:",",thousands:".",prefix:"",precision:2,masked:!1},monthsEntry:[{label:"Jan",value:1},{label:"Fev",value:2},{label:"Mar",value:3},{label:"Abr",value:4},{label:"Mai",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Ago",value:8},{label:"Set",value:9},{label:"Out",value:10},{label:"Nov",value:11},{label:"Dez",value:12},{label:"13o",value:13}],filterDizimista:function(option,label,search){var temp=search.toLowerCase();return option.code.toString().toLowerCase().indexOf(temp)>-1||option.name.toLowerCase().indexOf(temp)>-1},listDizimistas:[]}},computed:{currentTime:function(){return this.$store.state.dizimo.currentTimeEntries},listMonth:function(){return __WEBPACK_IMPORTED_MODULE_0_luxon__.Info.months("short",{locale:this.$i18n.locale.substr(-2)})},totalEntry:function(){return this.model.entries.reduce(function(total,entry){return total+entry.value},0)}},mounted:function(){this.listParoquianos()},methods:{listParoquianos:function(){var _this2=this;__WEBPACK_IMPORTED_MODULE_3_services_dizimo_service__.a.listSelect().then(function(res){_this2.listDizimistas=res.data})},addEntry:function(){var _this3=this;this.$refs.observer.validate().then(function(success){var _model$entries;if(success){var entries=[],totalValue=_this3.model.entryValue,divisor=_this3.model.monthsSelected.length,value=parseInt((totalValue/divisor).toFixed(2)),checkValue=value*divisor,valueAdd=0,valueSub=0;checkValue<totalValue?valueAdd=totalValue-checkValue:checkValue>totalValue&&(valueSub=checkValue-totalValue),console.log("tetas---\x3e",valueAdd,valueSub),_this3.model.monthsSelected.map(function(month,index){entries.push({year:__WEBPACK_IMPORTED_MODULE_0_luxon__.DateTime.now().toFormat("yyyy"),dizimista_id:_this3.dizimistaSelected,month:month,value:value})});var lastIndex=entries.length-1;entries[lastIndex].value=entries[lastIndex].value-valueSub+valueAdd,(_model$entries=_this3.model.entries).push.apply(_model$entries,entries),_this3.model.monthsSelected=[],_this3.model.entryValue=0,_this3.$nextTick(function(){_this3.$refs.observer.reset()})}})},removeEntry:function(index){this.model.entries.splice(index,1)}}}},603:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(549)()).push([module.i,".col-entry-form[data-v-47298696]{height:calc(100vh - 120px);overflow-y:auto}.col-entry-form[data-v-47298696]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.13);background-color:#fcfcfc}.col-entry-form[data-v-47298696]::-webkit-scrollbar{width:3px;background-color:#fcfcfc}.col-entry-form[data-v-47298696]::-webkit-scrollbar-thumb{background-color:#acacac}.form-entry[data-v-47298696]{min-height:calc(100vh - 130px);padding:12px;border:1px solid #d6d6d6;border-radius:12px}","",{version:3,sources:["/./client/modules/dizimo/views/DizimoEntries.vue"],names:[],mappings:"AACA,iCAAiC,2BAA2B,eAAe,CAC1E,AACD,0DAA0D,iDAAkD,wBAAwB,CACnI,AACD,oDAAoD,UAAU,wBAAwB,CACrF,AACD,0DAA0D,wBAAwB,CACjF,AACD,6BAA6B,+BAA+B,aAAa,yBAAyB,kBAAkB,CACnH",file:"DizimoEntries.vue",sourcesContent:["\n.col-entry-form[data-v-47298696]{height:calc(100vh - 120px);overflow-y:auto\n}\n.col-entry-form[data-v-47298696]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.13);background-color:#fcfcfc\n}\n.col-entry-form[data-v-47298696]::-webkit-scrollbar{width:3px;background-color:#fcfcfc\n}\n.col-entry-form[data-v-47298696]::-webkit-scrollbar-thumb{background-color:#acacac\n}\n.form-entry[data-v-47298696]{min-height:calc(100vh - 130px);padding:12px;border:solid 1px #d6d6d6;border-radius:12px\n}\n"],sourceRoot:"webpack://"}])},624:function(module,exports,__webpack_require__){var content=__webpack_require__(603);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[module.i,content,""]]),content.locals&&(module.exports=content.locals);(0,__webpack_require__(536).default)("7df2640e",content,!0,{})},641:function(module,exports,__webpack_require__){!function(e,t){module.exports=t()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=9)}([function(e,t,n){"use strict";t.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(e,t,n){"use strict";var r=n(2),i=n(5),u=n(0);t.a=function(e,t){if(t.value){var o=n.i(i.a)(u.a,t.value);if("INPUT"!==e.tagName.toLocaleUpperCase()){var a=e.getElementsByTagName("input");1!==a.length||(e=a[0])}e.oninput=function(){var t=e.value.length-e.selectionEnd;e.value=n.i(r.a)(e.value,o),t=Math.max(t,o.suffix.length),t=e.value.length-t,t=Math.max(t,o.prefix.length+1),n.i(r.b)(e,t),e.dispatchEvent(n.i(r.c)("change"))},e.onfocus=function(){n.i(r.b)(e,e.value.length-o.suffix.length)},e.oninput(),e.dispatchEvent(n.i(r.c)("input"))}}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a;"number"==typeof e&&(e=e.toFixed(o(t.precision)));var n=e.indexOf("-")>=0?"-":"",a=d(c(u(e),t.precision)).split("."),p=a[0],l=a[1];return p=function(e,t){return e.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+t)}(p,t.thousands),t.prefix+n+function(e,t,n){return t?e+n+t:e}(p,l,t.decimal)+t.suffix}function i(e,t){var n=e.indexOf("-")>=0?-1:1,i=c(u(e),t);return parseFloat(i)*n}function u(e){return d(e).replace(/\D+/g,"")||"0"}function o(e){return function(e,t,n){return Math.max(e,Math.min(t,n))}(0,e,20)}function c(e,t){var n=Math.pow(10,t);return(parseFloat(e)/n).toFixed(o(t))}function d(e){return e?e.toString():""}function p(e,t){var n=function(){e.setSelectionRange(t,t)};e===document.activeElement&&(n(),setTimeout(n,1))}function l(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var m=n(0);n.d(t,"a",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return l})},function(e,t,n){"use strict";function r(e,t){t&&Object.keys(t).map(function(e){a.a[e]=t[e]}),e.directive("money",o.a),e.component("money",u.a)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),u=n.n(i),o=n(1),a=n(0);n.d(t,"Money",function(){return u.a}),n.d(t,"VMoney",function(){return o.a}),n.d(t,"options",function(){return a.a}),n.d(t,"VERSION",function(){return c});var c="0.8.1";t.default=r,"undefined"!=typeof window&&window.Vue&&window.Vue.use(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),u=n(2);t.default={name:"Money",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return i.a.precision}},decimal:{type:String,default:function(){return i.a.decimal}},thousands:{type:String,default:function(){return i.a.thousands}},prefix:{type:String,default:function(){return i.a.prefix}},suffix:{type:String,default:function(){return i.a.suffix}}},directives:{money:r.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(e,t){var r=n.i(u.a)(e,this.$props);r!==this.formattedValue&&(this.formattedValue=r)}}},methods:{change:function(e){this.$emit("input",this.masked?e.target.value:n.i(u.d)(e.target.value,this.precision))}}}},function(e,t,n){"use strict";t.a=function(e,t){return e=e||{},t=t||{},Object.keys(e).concat(Object.keys(t)).reduce(function(n,r){return n[r]=void 0===t[r]?e[r]:t[r],n},{})}},function(e,t,n){var r=n(7)(n(4),n(8),null,null);e.exports=r.exports},function(e,t){e.exports=function(e,t,n,r){var i,u=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(i=e,u=e.default);var a="function"==typeof u?u.options:u;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),n&&(a._scopeId=n),r){var c=a.computed||(a.computed={});Object.keys(r).forEach(function(e){var t=r[e];c[e]=function(){return t}})}return{esModule:i,exports:u,options:a}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"money",rawName:"v-money",value:{precision:e.precision,decimal:e.decimal,thousands:e.thousands,prefix:e.prefix,suffix:e.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-money",attrs:{type:"tel"},domProps:{value:e.formattedValue},on:{change:e.change}})},staticRenderFns:[]}},function(e,t,n){e.exports=n(3)}])})},658:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("BaseView",{attrs:{headerHidden:"",title:_vm.$t("Lancamentos Dízimo")}},[_c("div",{staticClass:"row mx-0 h-100"},[_c("div",{staticClass:"col-lg-3 col-md-4 col-sm-12 col-entry-form"},[_c("div",{staticClass:"form-entry"},[_c("DateCard",{attrs:{date:_vm.date,title:"Missa 07:30",time:"07:30","no-action":""}},[_vm._v("Lançamentos")]),_vm._v(" "),_c("ValidationObserver",{ref:"observer"},[_c("b-form-group",[_c("div",{staticClass:"mb-3"},[_c("label",{attrs:{for:""}},[_vm._v("Dizimista")]),_vm._v(" "),_c("ValidationProvider",{attrs:{name:"Dizimista",rules:"required"},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("v-select",{attrs:{options:_vm.listDizimistas,label:"name",reduce:function(item){return item.id},filterBy:_vm.filterDizimista},scopedSlots:_vm._u([{key:"option",fn:function(ref){var code=ref.code,name=ref.name;return[_c("em",[_vm._v(_vm._s(code)+" - "+_vm._s(name))])]}}],null,!0),model:{value:_vm.model.dizimistaSelected,callback:function($$v){_vm.$set(_vm.model,"dizimistaSelected",$$v)},expression:"model.dizimistaSelected"}}),_vm._v(" "),_c("small",{staticClass:"text-danger"},[_vm._v(_vm._s(errors[0]))])]}}])})],1),_vm._v(" "),_c("div",[_c("label",{attrs:{for:""}},[_vm._v("Referência")]),_vm._v(" "),_c("ValidationProvider",{attrs:{name:"Referência",rules:"required"},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("b-form-checkbox-group",{attrs:{options:_vm.monthsEntry,"text-field":"label"},model:{value:_vm.model.monthsSelected,callback:function($$v){_vm.$set(_vm.model,"monthsSelected",$$v)},expression:"model.monthsSelected"}}),_vm._v(" "),_c("small",{staticClass:"text-danger mb-3"},[_vm._v(_vm._s(errors[0]))])]}}])})],1),_vm._v(" "),_c("div",{staticClass:"d-flex align-items-end mb-3"},[_c("div",{staticClass:"mr-2"},[_c("label",{attrs:{for:"Valor"}}),_vm._v(" "),_c("ValidationProvider",{attrs:{name:"Valor",rules:"required"},scopedSlots:_vm._u([{key:"default",fn:function(ref){var errors=ref.errors;return[_c("v-money",_vm._b({staticClass:"form-control",model:{value:_vm.model.entryValue,callback:function($$v){_vm.$set(_vm.model,"entryValue",$$v)},expression:"model.entryValue"}},"v-money",_vm.money,!1)),_vm._v(" "),_c("small",{staticClass:"text-danger"},[_vm._v(_vm._s(errors[0]))])]}}])})],1),_vm._v(" "),_c("div",[_c("b-button",{attrs:{variant:"outline-primary"},on:{click:function($event){return _vm.addEntry()}}},[_vm._v("incluir")])],1)]),_vm._v(" "),_c("div",[_c("b-table",{attrs:{striped:"",hover:"",small:"",items:_vm.model.entries,fields:_vm.tableFields},scopedSlots:_vm._u([{key:"cell(actions)",fn:function(ref){var index=ref.index,item=ref.item;return[_c("i",{staticClass:"fas fa-trash",on:{click:function($event){return _vm.removeEntry(index,item)}}})]}}])})],1),_vm._v(" "),_c("div",{staticClass:"h4 text-success text-right"},[_vm._v("$ "+_vm._s(_vm.totalEntry.toFixed(2)))]),_vm._v(" "),_c("b-button",{staticClass:"w-100 mt-auto",attrs:{disabled:0==_vm.model.entries.length||0==_vm.totalEntry,variant:"primary"}},[_vm._v("Registrar Dízimo")])],1)],1)],1)]),_vm._v(" "),_c("div",{staticClass:"col-lg-9 col-md-8 col-sm-12"})])])},staticRenderFns:[]}}});
//# sourceMappingURL=4.104fd980.js.map